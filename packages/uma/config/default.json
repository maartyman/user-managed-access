{
  "@context": [
    "https://linkedsoftwaredependencies.org/bundles/npm/@solidlab/uma/^0.0.0/components/context.jsonld",
    "https://linkedsoftwaredependencies.org/bundles/npm/@solid/community-server/^7.0.0/components/context.jsonld"
  ],
  "import": [
    "sai-uma:config/credentials/verifiers/default.json",
    "sai-uma:config/dialog/negotiators/default.json",
    "sai-uma:config/http/cors/cors.json",
    "sai-uma:config/http/parsing/server.json",
    "sai-uma:config/policies/authorizers/default.json",
    "sai-uma:config/resources/storage/default.json",
    "sai-uma:config/routes/discovery.json",
    "sai-uma:config/routes/introspection.json",
    "sai-uma:config/routes/keys.json",
    "sai-uma:config/routes/resources.json",
    "sai-uma:config/routes/tickets.json",
    "sai-uma:config/routes/tokens.json",
    "sai-uma:config/tickets/storage/default.json",
    "sai-uma:config/tickets/strategy/claim-elimination.json",
    "sai-uma:config/tokens/factory/default.json",
    "sai-uma:config/tokens/storage/default.json",
    "sai-uma:config/variables/default.json"
  ],
  "@graph": [
    {
      "@id": "urn:uma:default:NodeHttpServer",
      "@type": "ServerInitializer",
      "port": {
        "@id": "urn:uma:variables:port"
      },
      "serverFactory": {
        "@id": "urn:uma:default:ServerFactory",
        "@type": "BaseServerFactory",
        "configurator": {
          "comment": "Handles all request events from the server.",
          "@id": "urn:uma:default:HandlerServerConfigurator",
          "@type": "HandlerServerConfigurator",
          "handler": {
            "@id": "urn:uma:default:HttpHandler"
          }
        }
      }
    },
    {
      "@id": "urn:uma:default:HttpHandler",
      "@type": "SequenceHandler",
      "handlers": [
        { "@id": "urn:uma:default:CorsHandler" },
        { "@id": "urn:uma:default:ParsingHttpHandler" }
      ]
    },
    {
      "comment": "The main entry point into the main Solid behaviour.",
      "@id": "urn:uma:default:ParsingHttpHandler",
      "@type": "ParsingHttpHandler",
      "requestParser": { "@id": "urn:uma:default:RequestParser" },
      "errorHandler": { "@id": "urn:uma:default:ErrorHandler" },
      "responseWriter": { "@id": "urn:uma:default:ResponseWriter" },
      "operationHandler": {
        "@id": "urn:uma:default:HttpHandlerController"
      }
    },
    {
      "@id": "urn:uma:default:HttpHandlerController",
      "@type": "WaterfallHandler",
      "handlers": [
        { "@id": "urn:uma:default:UmaConfigRouteHandler" },
        { "@id": "urn:uma:default:JwksRouteHandler" },
        { "@id": "urn:uma:default:TokenRouteHandler" },
        { "@id": "urn:uma:default:PermissionRegistrationRouteHandler" },
        { "@id": "urn:uma:default:ResourceRegistrationRouteHandler" },
        { "@id": "urn:uma:default:ResourceRegistrationOpsRouteHandler" },
        { "@id": "urn:uma:default:IntrospectionRouteHandler" },
        {
          "@type": "StaticThrowHandler",
          "error": { "@type": "NotFoundHttpError" }
        }
      ]
    },
    {
      "comment": "Configuration for the UMA AS."
    }
  ]
}
